import{r as d,I as g,u as x,j as e,B as j,L as w,c as y}from"./index-B4XHSPnD.js";import{s as b}from"./crypto-Cw3CO9Ve.js";import{C as v}from"./index-Df6S2W6E.js";import{S as u}from"./TextArea-BUjP_gK1.js";import{T as P}from"./index-BHQZE-Ab.js";import{F as t,I as c}from"./index-DCSwNLov.js";import{R as I,a as p}from"./UserOutlined-C7HdwEwG.js";import{s as h}from"./index-CmOMhBeX.js";var z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function m(){return m=Object.assign?Object.assign.bind():function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a[i]=n[i])}return a},m.apply(this,arguments)}const R=(a,s)=>d.createElement(g,m({},a,{ref:s,icon:z})),C=d.forwardRef(R),{Title:M,Text:f}=P;function $(){const[a,s]=d.useState(!1),n=x(),i=async o=>{s(!0);try{const l={username:o.username,email:o.email,password:await b(o.password)},{data:r}=await y.post("/register",l);h.success(r?.message||"Registration successful. Please verify your email."),n("/login",{replace:!0})}catch(l){const r=l;h.error(r.response?.data?.message||"Registration failed")}finally{s(!1)}};return e.jsx(v,{className:"max-w-md w-full shadow-2xl",children:e.jsxs(u,{direction:"vertical",size:"large",className:"w-full",children:[e.jsxs(u,{direction:"vertical",size:4,children:[e.jsx(M,{level:3,className:"m-0",children:"Create your account"}),e.jsx(f,{type:"secondary",children:"Register to start using the dashboard"})]}),e.jsxs(t,{layout:"vertical",onFinish:i,requiredMark:!1,children:[e.jsx(t.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please enter a username"},{min:5,message:"Username must be at least 5 characters"},{max:15,message:"Username cannot exceed 15 characters"},{pattern:/^[a-z0-9_]+$/,message:"Can only contain lowercase letters, numbers, and underscores"}],children:e.jsx(c,{size:"large",prefix:e.jsx(I,{}),placeholder:"johndoe"})}),e.jsx(t.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please enter a valid email",type:"email"}],children:e.jsx(c,{size:"large",prefix:e.jsx(C,{}),placeholder:"name@example.com"})}),e.jsx(t.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter a password"},{min:8,message:"Password must be at least 8 characters"}],children:e.jsx(c.Password,{size:"large",prefix:e.jsx(p,{}),placeholder:"••••••••"})}),e.jsx(t.Item,{label:"Confirm password",name:"confirm",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password"},({getFieldValue:o})=>({validator(l,r){return!r||o("password")===r?Promise.resolve():Promise.reject(new Error("Passwords do not match"))}})],children:e.jsx(c.Password,{size:"large",prefix:e.jsx(p,{}),placeholder:"••••••••"})}),e.jsx(t.Item,{children:e.jsx(j,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:a,children:"Create account"})})]}),e.jsxs(f,{type:"secondary",children:["Already have an account? ",e.jsx(w,{to:"/login",children:"Sign in"})]})]})})}export{$ as default};
