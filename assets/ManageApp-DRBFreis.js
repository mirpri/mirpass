import{h as be,J as Ue,i as Ae,r as n,k as Ce,G as Je,l as we,n as S,p as ge,K as Ze,N as Qe,R as Ne,o as et,O as tt,q as st,H as nt,Q as Te,S as rt,T as at,U as ot,V as lt,W as it,y as _e,X as ct,Y as dt,Z as Re,B as T,$ as mt,a0 as ut,a1 as pt,a2 as xt,a3 as gt,a4 as ht,F as ft,I as Se,m as yt,a5 as vt,a6 as jt,a7 as bt,d as Ct,a8 as wt,u as Nt,c as $,A as J,j as e,e as St,f as It,b as $t,g as he}from"./index-BKXXxgCf.js";import{F as kt,I as Tt}from"./FailedView-DW8EKli9.js";import{d as fe,f as Ie,t as Rt,F as $e,D as Et,M as Pe,S as ae,U as Ut,R as At,a as ce}from"./date-DvOvmjUx.js";import{g as oe,s as _t}from"./crypto-B9Mf35RN.js";import{C as ie,T as ze,R as Pt}from"./index-_VEoIbwv.js";import{S as L}from"./TextArea-BkMGyXgq.js";import{T as zt}from"./index-Bj67LGUl.js";import{T as Me}from"./index-DsqOHNxu.js";import{R as Mt}from"./ArrowLeftOutlined-fN2VaT7R.js";import{R as Ee,C as K,F as E,I as _}from"./index-CTdsIYHB.js";import{D as Dt}from"./index-jKnOUteB.js";import"./index-Dhv7yU2r.js";const le=(s,t,r,a,i)=>({background:s,border:`${Ae(a.lineWidth)} ${a.lineType} ${t}`,[`${i}-icon`]:{color:r}}),Ot=s=>{const{componentCls:t,motionDurationSlow:r,marginXS:a,marginSM:i,fontSize:u,fontSizeLG:m,lineHeight:l,borderRadiusLG:c,motionEaseInOutCirc:x,withDescriptionIconSize:f,colorText:p,colorTextHeading:o,withDescriptionPadding:d,defaultPadding:h}=s;return{[t]:{...Ue(s),position:"relative",display:"flex",alignItems:"center",padding:h,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-section`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:a,lineHeight:0},"&-description":{display:"none",fontSize:u,lineHeight:l},"&-title":{color:o},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${x}, opacity ${r} ${x},
        padding-top ${r} ${x}, padding-bottom ${r} ${x},
        margin-bottom ${r} ${x}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}},[`${t}-with-description`]:{alignItems:"flex-start",padding:d,[`${t}-icon`]:{marginInlineEnd:i,fontSize:f,lineHeight:0},[`${t}-title`]:{display:"block",marginBottom:a,color:o,fontSize:m},[`${t}-description`]:{display:"block",color:p}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Ft=s=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:a,colorSuccessBg:i,colorWarning:u,colorWarningBorder:m,colorWarningBg:l,colorError:c,colorErrorBorder:x,colorErrorBg:f,colorInfo:p,colorInfoBorder:o,colorInfoBg:d}=s;return{[t]:{"&-success":le(i,a,r,s,t),"&-info":le(d,o,p,s,t),"&-warning":le(l,m,u,s,t),"&-error":{...le(f,x,c,s,t),[`${t}-description > pre`]:{margin:0,padding:0}}}}},Lt=s=>{const{componentCls:t,iconCls:r,motionDurationMid:a,marginXS:i,fontSizeIcon:u,colorIcon:m,colorIconHover:l}=s;return{[t]:{"&-actions":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:u,lineHeight:Ae(u),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:m,transition:`color ${a}`,"&:hover":{color:l}}},"&-close-text":{color:m,transition:`color ${a}`,"&:hover":{color:l}}}}},Bt=s=>({withDescriptionIconSize:s.fontSizeHeading3,defaultPadding:`${s.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${s.paddingMD}px ${s.paddingContentHorizontalLG}px`}),Ht=be("Alert",s=>[Ot(s),Ft(s),Lt(s)],Bt),Vt=s=>{const{icon:t,type:r,className:a,style:i,successIcon:u,infoIcon:m,warningIcon:l,errorIcon:c}=s,x={success:u??n.createElement(st,null),info:m??n.createElement(tt,null),error:c??n.createElement(et,null),warning:l??n.createElement(Ne,null)};return n.createElement("span",{className:a,style:i},t??x[r])},Wt=s=>{const{isClosable:t,prefixCls:r,closeIcon:a,handleClose:i,ariaProps:u,className:m,style:l}=s,c=a===!0||a===void 0?n.createElement(nt,null):a;return t?n.createElement("button",{type:"button",onClick:i,className:S(`${r}-close-icon`,m),tabIndex:0,style:l,...u},c):null},De=n.forwardRef((s,t)=>{const{description:r,prefixCls:a,message:i,title:u,banner:m,className:l,rootClassName:c,style:x,onMouseEnter:f,onMouseLeave:p,onClick:o,afterClose:d,showIcon:h,closable:g,closeText:y,closeIcon:b,action:j,id:v,styles:w,classNames:D,...Z}=s,q=u??i,[G,X]=n.useState(!1),O=n.useRef(null);n.useImperativeHandle(t,()=>({nativeElement:O.current}));const{getPrefixCls:Q,direction:k,closable:U,closeIcon:Y,className:B,style:P,classNames:R,styles:M,successIcon:ee,infoIcon:A,warningIcon:te,errorIcon:de}=Ce("alert"),N=Q("alert",a),[me,re]=Ht(N),{onClose:ue,afterClose:Be}=g&&typeof g=="object"?g:{},He=F=>{X(!0),(ue??s.onClose)?.(F)},pe=n.useMemo(()=>s.type!==void 0?s.type:m?"warning":"info",[s.type,m]),ke=n.useMemo(()=>typeof g=="object"&&g.closeIcon||y?!0:typeof g=="boolean"?g:b!==!1&&Je(b)?!0:!!U,[y,b,g,U]),xe=m&&h===void 0?!0:h,Ve={...s,prefixCls:N,type:pe,showIcon:xe,closable:ke},[H,V]=we([R,D],[M,w],{props:Ve}),We=S(N,`${N}-${pe}`,{[`${N}-with-description`]:!!r,[`${N}-no-icon`]:!xe,[`${N}-banner`]:!!m,[`${N}-rtl`]:k==="rtl"},B,l,c,H.root,re,me),qe=ge(Z,{aria:!0,data:!0}),Ge=n.useMemo(()=>typeof g=="object"&&g.closeIcon?g.closeIcon:y||(b!==void 0?b:typeof U=="object"&&U.closeIcon?U.closeIcon:Y),[b,g,U,y,Y]),Xe=n.useMemo(()=>{const F=g??U;return typeof F=="object"?ge(F,{data:!0,aria:!0}):{}},[g,U]);return n.createElement(Ze,{visible:!G,motionName:`${N}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:F=>({maxHeight:F.offsetHeight}),onLeaveEnd:Be??d},({className:F,style:Ye},Ke)=>n.createElement("div",{id:v,ref:Qe(O,Ke),"data-show":!G,className:S(We,F),style:{...V.root,...P,...x,...Ye},onMouseEnter:f,onMouseLeave:p,onClick:o,role:"alert",...qe},xe?n.createElement(Vt,{className:S(`${N}-icon`,H.icon),style:V.icon,description:r,icon:s.icon,prefixCls:N,type:pe,successIcon:ee,infoIcon:A,warningIcon:te,errorIcon:de}):null,n.createElement("div",{className:S(`${N}-section`,H.section),style:V.section},q?n.createElement("div",{className:S(`${N}-title`,H.title),style:V.title},q):null,r?n.createElement("div",{className:S(`${N}-description`,H.description),style:V.description},r):null),j?n.createElement("div",{className:S(`${N}-actions`,H.actions),style:V.actions},j):null,n.createElement(Wt,{className:H.close,style:V.close,isClosable:ke,prefixCls:N,closeIcon:Ge,handleClose:He,ariaProps:Xe})))});function qt(s,t,r){return t=Te(t),rt(s,at()?Reflect.construct(t,r||[],Te(s).constructor):t.apply(s,r))}let Gt=(function(s){function t(){var r;return it(this,t),r=qt(this,t,arguments),r.state={error:void 0,info:{componentStack:""}},r}return ot(t,s),lt(t,[{key:"componentDidCatch",value:function(a,i){this.setState({error:a,info:i})}},{key:"render",value:function(){const{message:a,title:i,description:u,id:m,children:l}=this.props,{error:c,info:x}=this.state,f=i??a,p=x?.componentStack||null,o=typeof f>"u"?(c||"").toString():f,d=typeof u>"u"?p:u;return c?n.createElement(De,{id:m,type:"error",title:o,description:n.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},d)}):l}}])})(n.Component);const se=De;se.ErrorBoundary=Gt;const Xt=s=>{const{componentCls:t,iconCls:r,antCls:a,zIndexPopup:i,colorText:u,colorWarning:m,marginXXS:l,marginXS:c,fontSize:x,fontWeightStrong:f,colorTextHeading:p}=s;return{[t]:{zIndex:i,[`&${a}-popover`]:{fontSize:x},[`${t}-message`]:{marginBottom:c,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${r}`]:{color:m,fontSize:x,lineHeight:1,marginInlineEnd:c},[`${t}-title`]:{fontWeight:f,color:p,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:l,color:u}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:c}}}}},Yt=s=>{const{zIndexPopupBase:t}=s;return{zIndexPopup:t+60}},Oe=be("Popconfirm",s=>Xt(s),Yt,{resetStyle:!1}),Fe=s=>{const{prefixCls:t,okButtonProps:r,cancelButtonProps:a,title:i,description:u,cancelText:m,okText:l,okType:c="primary",icon:x=n.createElement(Ne,null),showCancel:f=!0,close:p,onConfirm:o,onCancel:d,onPopupClick:h,classNames:g,styles:y}=s,{getPrefixCls:b}=n.useContext(_e),[j]=ct("Popconfirm",dt.Popconfirm),v=Re(i),w=Re(u);return n.createElement("div",{className:`${t}-inner-content`,onClick:h},n.createElement("div",{className:`${t}-message`},x&&n.createElement("span",{className:`${t}-message-icon`},x),n.createElement("div",{className:`${t}-message-text`},v&&n.createElement("div",{className:S(`${t}-title`,g?.title),style:y?.title},v),w&&n.createElement("div",{className:S(`${t}-description`,g?.content),style:y?.content},w))),n.createElement("div",{className:`${t}-buttons`},f&&n.createElement(T,{onClick:d,size:"small",...a},m||j?.cancelText),n.createElement(mt,{buttonProps:{size:"small",...ut(c),...r},actionFn:o,close:p,prefixCls:b("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l||j?.okText)))},Kt=s=>{const{prefixCls:t,placement:r,className:a,style:i,...u}=s,{getPrefixCls:m}=n.useContext(_e),l=m("popconfirm",t);return Oe(l),n.createElement(pt,{placement:r,className:S(l,a),style:i,content:n.createElement(Fe,{prefixCls:l,...u})})},Jt=n.forwardRef((s,t)=>{const{prefixCls:r,placement:a="top",trigger:i,okType:u="primary",icon:m=n.createElement(Ne,null),children:l,overlayClassName:c,onOpenChange:x,overlayStyle:f,styles:p,arrow:o,classNames:d,...h}=s,{getPrefixCls:g,className:y,style:b,classNames:j,styles:v,arrow:w,trigger:D}=Ce("popconfirm"),[Z,q]=xt(s.defaultOpen??!1,s.open),G=gt(o,w),X=i||D||"click",O=A=>{q(A),x?.(A)},Q=()=>{O(!1)},k=A=>s.onConfirm?.call(void 0,A),U=A=>{O(!1),s.onCancel?.call(void 0,A)},Y=A=>{const{disabled:te=!1}=s;te||O(A)},B=g("popconfirm",r),P={...s,placement:a,trigger:X,okType:u,overlayStyle:f,styles:p,classNames:d},[R,M]=we([j,d],[v,p],{props:P}),ee=S(B,y,c,R.root);return Oe(B),n.createElement(ht,{arrow:G,...ft(h,["title"]),trigger:X,placement:a,onOpenChange:Y,open:Z,ref:t,classNames:{root:ee,container:R.container,arrow:R.arrow},styles:{root:{...b,...M.root,...f},container:M.container,arrow:M.arrow},content:n.createElement(Fe,{okType:u,icon:m,...s,prefixCls:B,close:Q,onConfirm:k,onCancel:U,classNames:R,styles:M}),"data-popover-inject":!0},l)}),ne=Jt;ne._InternalPanelDoNotUseOrYouWillBeFired=Kt;var Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},ye.apply(this,arguments)}const Qt=(s,t)=>n.createElement(Se,ye({},s,{ref:t,icon:Zt})),es=n.forwardRef(Qt),ts=s=>{const{value:t,formatter:r,precision:a,decimalSeparator:i,groupSeparator:u="",prefixCls:m}=s;let l;if(typeof r=="function")l=r(t);else{const c=String(t),x=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!x||c==="-")l=c;else{const f=x[1];let p=x[2]||"0",o=x[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,u),typeof a=="number"&&(o=o.padEnd(a,"0").slice(0,a>0?a:0)),o&&(o=`${i}${o}`),l=[n.createElement("span",{key:"int",className:`${m}-content-value-int`},f,p),o&&n.createElement("span",{key:"decimal",className:`${m}-content-value-decimal`},o)]}}return n.createElement("span",{className:`${m}-content-value`},l)},ss=s=>{const{componentCls:t,marginXXS:r,padding:a,colorTextDescription:i,titleFontSize:u,colorTextHeading:m,contentFontSize:l,fontFamily:c}=s;return{[t]:{...Ue(s),[`${t}-header`]:{paddingBottom:r,[`${t}-title`]:{color:i,fontSize:u}},[`${t}-skeleton`]:{paddingTop:a},[`${t}-content`]:{color:m,fontSize:l,fontFamily:c,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:r},[`${t}-content-suffix`]:{marginInlineStart:r}}}}},ns=s=>{const{fontSizeHeading3:t,fontSize:r}=s;return{titleFontSize:r,contentFontSize:t}},rs=be("Statistic",s=>{const t=yt(s,{});return ss(t)},ns),W=n.forwardRef((s,t)=>{const{prefixCls:r,className:a,rootClassName:i,style:u,valueStyle:m,value:l=0,title:c,valueRender:x,prefix:f,suffix:p,loading:o=!1,formatter:d,precision:h,decimalSeparator:g=".",groupSeparator:y=",",onMouseEnter:b,onMouseLeave:j,styles:v,classNames:w,...D}=s,{getPrefixCls:Z,direction:q,className:G,style:X,classNames:O,styles:Q}=Ce("statistic"),k=Z("statistic",r),[U,Y]=rs(k),B={...s,decimalSeparator:g,groupSeparator:y,loading:o,value:l},[P,R]=we([O,w],[Q,v],{props:B}),M=n.createElement(ts,{decimalSeparator:g,groupSeparator:y,prefixCls:k,formatter:d,precision:h,value:l}),ee=S(k,{[`${k}-rtl`]:q==="rtl"},G,a,i,P.root,U,Y),A=S(`${k}-header`,P.header),te=S(`${k}-title`,P.title),de=S(`${k}-content`,P.content),N=S(`${k}-content-prefix`,P.prefix),me=S(`${k}-content-suffix`,P.suffix),re=n.useRef(null);n.useImperativeHandle(t,()=>({nativeElement:re.current}));const ue=ge(D,{aria:!0,data:!0});return n.createElement("div",{...ue,className:ee,style:{...R.root,...X,...u},ref:re,onMouseEnter:b,onMouseLeave:j},c&&n.createElement("div",{className:A,style:R.header},n.createElement("div",{className:te,style:R.title},c)),n.createElement(vt,{paragraph:!1,loading:o,className:`${k}-skeleton`,active:!0},n.createElement("div",{className:de,style:{...m,...R.content}},f&&n.createElement("span",{className:N,style:R.prefix},f),x?x(M):M,p&&n.createElement("span",{className:me,style:R.suffix},p))))}),as=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function os(s,t){let r=s;const a=/\[[^\]]*]/g,i=(t.match(a)||[]).map(c=>c.slice(1,-1)),u=t.replace(a,"[]"),m=as.reduce((c,[x,f])=>{if(c.includes(x)){const p=Math.floor(r/f);return r-=p*f,c.replace(new RegExp(`${x}+`,"g"),o=>{const d=o.length;return p.toString().padStart(d,"0")})}return c},u);let l=0;return m.replace(a,()=>{const c=i[l];return l+=1,c})}function ls(s,t,r){const{format:a=""}=t,i=new Date(s).getTime(),u=Date.now(),m=Math.max(r?i-u:u-i,0);return os(m,a)}const is=1e3/60;function cs(s){return new Date(s).getTime()}const Le=s=>{const{value:t,format:r="HH:mm:ss",onChange:a,onFinish:i,type:u,...m}=s,l=u==="countdown",[c,x]=n.useState(null),f=jt(()=>{const d=Date.now(),h=cs(t);x({});const g=l?h-d:d-h;return a?.(g),l&&h<d?(i?.(),!1):!0});n.useEffect(()=>{let d;const h=()=>{f()||window.clearInterval(d)},g=()=>{d=window.setInterval(h,is)},y=()=>{window.clearInterval(d)};return g(),()=>{y()}},[t,l]),n.useEffect(()=>{x({})},[]);const p=(d,h)=>c?ls(d,{...h,format:r},l):"-",o=d=>bt(d,{title:void 0});return n.createElement(W,{...m,value:t,valueRender:o,formatter:p})},ds=s=>n.createElement(Le,{...s,type:"countdown"}),ms=n.memo(ds);W.Timer=Le;W.Countdown=ms;const us=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ps=Ct("ban",us);var xs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function ve(){return ve=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},ve.apply(this,arguments)}const gs=(s,t)=>n.createElement(Se,ve({},s,{ref:t,icon:xs})),hs=n.forwardRef(gs);var fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};function je(){return je=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},je.apply(this,arguments)}const ys=(s,t)=>n.createElement(Se,je({},s,{ref:t,icon:fs})),vs=n.forwardRef(ys),{Title:z,Text:C,Paragraph:I}=zt;function Os(){const{appId:s}=wt(),t=Nt(),[r,a]=n.useState(null),[i,u]=n.useState(!1);n.useEffect(()=>{s&&m()},[s]);const m=async()=>{u(!0);try{const{data:c}=await $.get(`/apps/details?id=${s}`);a(c.data)}catch{J.useApp().message.error("Could not load app details"),t("/dashboard")}finally{u(!1)}};if(i)return e.jsx(St,{});if(!r)return e.jsx(kt,{});const l=[{key:"stats",label:"Analytics",children:e.jsx(Is,{app:r})},{key:"trusted_uris",label:"Trusted URIs",children:e.jsx(js,{app:r})},{key:"members",label:"Members",children:e.jsx(bs,{app:r})},{key:"help",label:"Integration Guide",children:e.jsx(ws,{app:r})},{key:"settings",label:"Settings",children:e.jsx(Cs,{app:r,onUpdate:m,onDelete:()=>t("/dashboard")})}];return e.jsxs(ie,{className:"max-w-5xl w-full shadow-xl",title:"Manage Application",extra:e.jsx(T,{icon:e.jsx(Mt,{}),onClick:()=>t(-1),children:"Back"}),children:[e.jsxs(L,{size:10,align:"center",className:"mb-3",children:[e.jsx(It,{size:48,url:{url:r.logoUrl,text:r.name}}),e.jsx(z,{level:3,style:{marginBottom:0},children:r.name}),e.jsx(Me,{color:"blue",children:r.role})]}),r.suspendUntil&&fe(r.suspendUntil).isAfter(fe())&&e.jsx(se,{type:"error",title:"This app is suspended until "+Ie(r.suspendUntil)}),e.jsx(ze,{defaultActiveKey:"stats",items:l})]})}function js({app:s}){const{message:t}=J.useApp(),[r,a]=n.useState([]),[i,u]=n.useState(!1),[m,l]=n.useState(!1),[c,x]=n.useState(""),[f,p]=n.useState("");n.useEffect(()=>{o()},[s.id]);const o=async()=>{u(!0);try{const{data:y}=await $.get(`/apps/uris?id=${s.id}`);a(y.data||[])}catch{}finally{u(!1)}},d=async()=>{const y=f.trim();if(!y){t.error("URI is required");return}try{await $.post("/apps/uris/add",{appId:s.id,name:c.trim(),uri:y}),t.success("Trusted URI added"),l(!1),x(""),p(""),o()}catch(b){const j=b.response?.data?.message||"Failed to add trusted URI";t.error(j)}},h=async y=>{try{await $.post("/apps/uris/delete",{appId:s.id,uriId:y}),t.success("Trusted URI removed"),o()}catch(b){const j=b.response?.data?.message||"Failed to remove trusted URI";t.error(j)}},g=[{title:"Name",dataIndex:"name",key:"name",render:y=>y||e.jsx(C,{type:"secondary",children:"Unnamed"})},{title:"URI",dataIndex:"uri",key:"uri",render:y=>e.jsx(C,{copyable:!0,children:y})},{title:"Added At",dataIndex:"createdAt",key:"createdAt",render:y=>Ie(y)},{title:"Action",key:"action",render:(y,b)=>e.jsx(ne,{title:"Delete this URI?",onConfirm:()=>h(b.id),okText:"Yes",cancelText:"No",children:e.jsx(T,{type:"text",danger:!0,icon:e.jsx(ce,{})})})}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(C,{children:"Manage redirect URIs allowed by Authorization Code flow."}),s.role!=="external"&&e.jsx(T,{type:"primary",icon:e.jsx(Pt,{}),onClick:()=>l(!0),children:"Add URI"})]}),e.jsx($e,{dataSource:r,columns:g,rowKey:"id",loading:i,pagination:!1}),e.jsxs(Pe,{title:"Add Trusted URI",open:m,onCancel:()=>{l(!1),x(""),p("")},onOk:d,okText:"Add",children:[e.jsxs(E,{layout:"vertical",children:[e.jsx(E.Item,{label:"Name",children:e.jsx(_,{placeholder:"e.g. Local dev callback",value:c,onChange:y=>x(y.target.value)})}),e.jsx(E.Item,{label:"URI",required:!0,children:e.jsx(_,{placeholder:"https://example.com/callback",value:f,onChange:y=>p(y.target.value)})})]}),e.jsx(I,{children:"Enter full URI including scheme. Wildcards(*) are not allowed."})]})]})}function bs({app:s}){const[t,r]=n.useState([]),[a,i]=n.useState(!1),[u,m]=n.useState(!1),[l,c]=n.useState(""),[x,f]=n.useState("admin"),{message:p}=J.useApp(),{profile:o}=$t();n.useEffect(()=>{d()},[s.id]);const d=async()=>{i(!0);try{const{data:v}=await $.get(`/apps/members?id=${s.id}`);r(v.data||[])}catch{}finally{i(!1)}},h=async()=>{try{await $.post("/apps/members/add",{appId:s.id,username:l,role:x}),p.success("Member added"),m(!1),c(""),d()}catch(v){const w=v.response?.data?.message||"Failed to add member";p.error(w)}},g=async v=>{try{await $.post("/apps/members/remove",{appId:s.id,username:v}),p.success("Member removed"),d()}catch{p.error("Failed to remove member")}},y=async(v,w)=>{try{await $.post("/apps/members/role",{appId:s.id,username:v,role:w}),p.success("Role updated"),d()}catch{p.error("Failed to update role")}},b=[{label:"Admin",value:"admin"},{label:"Root",value:"root"}],j=[{title:"Username",dataIndex:"username",key:"username"},{title:"Role",dataIndex:"role",key:"role",render:v=>e.jsx(Me,{color:v==="root"?"gold":"blue",children:v})},{title:"Action",key:"action",render:(v,w)=>w.username===o?.username?e.jsx(L,{children:e.jsx(ne,{title:"Remove yourself? You'll lose access to this app!",onConfirm:()=>g(w.username),okText:"Yes",cancelText:"No",children:e.jsx(T,{danger:!0,size:"small",icon:e.jsx(ce,{}),children:"Leave"})})}):s.role!=="root"?e.jsx(ps,{size:18}):e.jsxs(L,{children:[e.jsx(ae,{value:w.role,onChange:D=>y(w.username,D),options:b,size:"small",className:"w-20"}),e.jsx(ne,{title:`Remove ${w.username} from this app?`,onConfirm:()=>g(w.username),okText:"Yes",cancelText:"No",children:e.jsx(T,{danger:!0,size:"small",icon:e.jsx(ce,{})})})]})}];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx(C,{children:"Manage team members and their access levels."}),s.role==="root"&&e.jsx(T,{type:"primary",icon:e.jsx(vs,{}),onClick:()=>m(!0),children:"Add Member"})]}),e.jsx($e,{dataSource:t,columns:j,rowKey:"username",loading:a,pagination:!1}),e.jsx(Pe,{title:"Add New Member",open:u,onCancel:()=>m(!1),onOk:h,okText:"Add",children:e.jsxs(E,{layout:"vertical",children:[e.jsx(E.Item,{label:"Username",required:!0,children:e.jsx(_,{value:l,onChange:v=>c(v.target.value),placeholder:"Username"})}),e.jsx(E.Item,{label:"Role",required:!0,children:e.jsxs(ae,{value:x,onChange:f,children:[e.jsx(ae.Option,{value:"admin",children:"Admin"}),e.jsx(ae.Option,{value:"root",children:"Root"})]})})]})})]})}function Cs({app:s,onUpdate:t,onDelete:r}){const{message:a}=J.useApp(),[i]=E.useForm(),[u,m]=n.useState(!1),[l,c]=n.useState(null);n.useEffect(()=>{i.setFieldsValue({name:s.name,description:s.description,logoUrl:s.logoUrl}),c(null)},[s]);const x=async o=>{m(!0);try{if(l){const d=new FormData;d.append("appId",s.id),d.append("name",o.name),d.append("description",o.description||""),d.append("logoUrl",o.logoUrl||""),d.append("file",l),await $.post("/apps/update",d,{headers:{"Content-Type":"multipart/form-data"}})}else await $.post("/apps/update",{appId:s.id,name:o.name,description:o.description,logoUrl:o.logoUrl});a.success("App updated"),t(),c(null)}catch(d){const h=d;console.error("Failed to update app",h.response),a.error(h.response?.data?.error||"Failed to update app")}finally{m(!1)}},f=async()=>{try{await $.post("/apps/delete",{appId:s.id}),a.success("App deleted"),r()}catch(o){const d=o.response?.data?.message||"Failed to delete app";a.error(d)}},p=s.role==="root";return e.jsxs("div",{className:"max-w-3xl",children:[e.jsx(z,{level:4,children:"General Settings"}),e.jsxs(E,{form:i,layout:"vertical",onFinish:x,children:[e.jsx(E.Item,{label:"App Name",name:"name",rules:[{required:!0,message:"Please input app name!"}],children:e.jsx(_,{})}),e.jsx(E.Item,{label:"Description",name:"description",children:e.jsx(_.TextArea,{rows:4})}),e.jsx(E.Item,{label:"Logo URL",children:e.jsxs(L.Compact,{style:{width:"100%"},children:[e.jsx(E.Item,{name:"logoUrl",noStyle:!0,children:e.jsx(_,{placeholder:"https://example.com/logo.png"})}),e.jsx(Tt,{rotationSlider:!0,children:e.jsx(Ut,{showUploadList:!1,customRequest:({file:o,onSuccess:d})=>{const h=o;c(h);const g=URL.createObjectURL(h);i.setFieldValue("logoUrl",g),a.success("Logo selected. Click Save to apply."),d?.("ok")},children:e.jsx(T,{icon:e.jsx(At,{}),children:"Select"})})})]})}),e.jsx(E.Item,{children:e.jsx(T,{type:"primary",htmlType:"submit",icon:e.jsx(hs,{}),loading:u,children:"Save Changes"})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx(Dt,{}),e.jsxs("div",{className:"border border-red-200 dark:border-red-900 p-4 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsx(z,{level:5,type:"danger",children:"Danger Zone"}),e.jsx(I,{children:"Deleting this application will remove all associated data, including API keys and member associations. This action cannot be undone."}),e.jsx(ne,{title:"Are you sure you want to delete this app?",description:"This action cannot be undone.",onConfirm:f,okText:"Yes, delete it",okType:"danger",cancelText:"Cancel",children:e.jsx(T,{type:"primary",danger:!0,icon:e.jsx(ce,{}),children:"Delete Application"})})]})]})]})}function ws({app:s}){const t=[{key:"authcode",label:"Authorization Code Flow (Recommended)",children:e.jsx(Ns,{app:s})},{key:"device",label:"Device Code Flow",children:e.jsx(Ss,{app:s})}];return e.jsx("div",{className:"max-w-4xl space-y-8",children:e.jsxs("div",{children:[e.jsx(z,{level:3,children:"Integration Guide"}),e.jsx(I,{children:"Select the authentication flow that best suits your application."}),e.jsx(ze,{items:t})]})})}function Ns({app:s}){let t=he.API_URL;t.endsWith("/")&&(t=t.slice(0,-1));const{message:r}=J.useApp(),[a,i]=n.useState(""),[u,m]=n.useState(oe(16)),[l,c]=n.useState(oe(43)),[x,f]=n.useState(""),[p,o]=n.useState(""),[d,h]=n.useState(null);n.useEffect(()=>{_t(l).then(f)},[l]);const g=()=>{const j=oe(43);c(j),m(oe(16))},y=()=>{const j=new URLSearchParams({response_type:"code",client_id:s.id,redirect_uri:a,state:u,code_challenge:x,code_challenge_method:"S256"}),v=`${he.API_URL}/oauth2/authorize?${j.toString()}`;window.open(v,"_blank"),r.info("Opens provider authorization page. After approval, copy the 'code' from the URL.")},b=async()=>{if(!p){r.error("Please enter the authorization code");return}try{const{data:j}=await $.post("/oauth2/token",{grant_type:"authorization_code",client_id:s.id,code:p,code_verifier:l});h(j),r.success("Token exchanged successfully!")}catch(j){const v=j.response?.data?.error||"Failed to exchange token";r.error(v),h({error:v})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(se,{title:"Recommended for Web / Mobile Apps",description:"Authorization Code Flow with PKCE is the most secure method for authenticating users in public clients. Use this as long as your app can securely handle redirects.",type:"info",showIcon:!0}),e.jsxs(L,{direction:"vertical",className:"w-full bg-gray-50 dark:bg-gray-900/20 p-4 rounded border border-gray-200 dark:border-gray-700 mt-4",children:[e.jsx(z,{level:4,children:"Test Authorization Code Flow"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{strong:!0,children:"Client ID"}),e.jsx(_,{value:s.id,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(C,{strong:!0,children:"Redirect URI"}),e.jsx(_,{value:a,onChange:j=>i(j.target.value)})]}),e.jsxs("div",{children:[e.jsx(C,{strong:!0,children:"State (Random)"}),e.jsx(_,{value:u,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(C,{strong:!0,children:"Code Verifier (PKCE)"}),e.jsxs(L.Compact,{style:{width:"100%"},children:[e.jsx(_,{value:l,disabled:!0}),e.jsx(T,{icon:e.jsx(es,{}),onClick:g})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx(C,{strong:!0,children:"Code Challenge (S256(Verifier))"}),e.jsx(_,{value:x,disabled:!0})]})]}),e.jsx(T,{type:"primary",onClick:y,disabled:!x,children:"Simulate authorization request"}),e.jsxs(I,{className:"mb-0",children:["After approval, copy the ",e.jsx("code",{children:"code"})," query value from your redirect URI."]}),e.jsxs(L.Compact,{style:{width:"100%"},children:[e.jsx(_,{placeholder:"Paste authorization code here...",value:p,onChange:j=>o(j.target.value)}),e.jsx(T,{type:"primary",onClick:b,disabled:!p,children:"Exchange token"})]}),d&&e.jsxs("div",{className:"mt-2 bg-green-50 dark:bg-green-900/20 p-4 rounded border border-green-200",children:[e.jsx(C,{strong:!0,className:"text-green-600",children:"Token Response:"}),e.jsx("div",{className:"mt-2 bg-gray-100 dark:bg-gray-800 p-3 rounded text-sm text-gray-600 dark:text-gray-300 font-mono overflow-x-auto",children:JSON.stringify(d,null,2)})]})]}),e.jsxs("div",{children:[e.jsx(z,{level:4,children:"1. Initiate Authorization"}),e.jsx(I,{children:"Send the user to the authorization endpoint."}),e.jsxs("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono leading-relaxed",children:[e.jsx("span",{className:"text-purple-400",children:"GET"})," ",t,"/oauth2/authorize",e.jsx("br",{}),"?client_id=",s.id,e.jsx("br",{}),"&response_type=code",e.jsx("br",{}),"&redirect_uri=",encodeURIComponent(a),e.jsx("br",{}),"&state=",u,e.jsx("br",{}),"&code_challenge=",x,e.jsx("br",{}),"&code_challenge_method=S256"]})]}),e.jsx(se,{title:"The redirected_uri must match one of the app's registered trusted URIs.",type:"warning",showIcon:!0}),e.jsxs("div",{className:"mt-6",children:[e.jsx(z,{level:4,children:"2. Exchange Code for Token"}),e.jsx(I,{children:"Exchange the received code for tokens."}),e.jsxs("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono leading-relaxed",children:[e.jsx("span",{className:"text-purple-400",children:"POST"})," ",t,"/oauth2/token",e.jsx("br",{}),e.jsx("span",{className:"text-blue-300",children:"Content-Type:"})," application/json",e.jsx("br",{}),e.jsx("br",{}),`{
  "grant_type": "authorization_code",
  "client_id": "${s.id}",
  "code": "${p||"AUTHORIZATION_CODE"}",
  "code_verifier": "${l}"
}`]})]}),e.jsx(I,{className:"text-sm text-gray-500",children:"Response (Success):"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono",children:`{
  "access_token": "...",
  "token_type": "Bearer",
  "expires_in": 3600
}`})]})}function Ss({app:s}){const{message:t}=J.useApp();let r=he.API_URL;r.endsWith("/")&&(r=r.slice(0,-1));const a=window.location.origin,[i,u]=n.useState(null),[m,l]=n.useState(""),[c,x]=n.useState(null),f=async()=>{u(null),x(null),l("Initiating...");try{const{data:p}=await $.post("/oauth2/devicecode",{client_id:s.id});u(p),l("Waiting for user authorization..."),t.success("Session initiated")}catch(p){const d=p.response?.data?.error||"Failed";l("Failed: "+d)}};return n.useEffect(()=>{if(!i||c)return;let p;const o=(i.interval||5)*1e3,d=async()=>{try{const{data:h}=await $.post("/oauth2/token",{client_id:s.id,device_code:i.device_code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"});x(h),l("Success! Token received."),t.success("Token received!"),u(null)}catch(h){const g=h.response?.data?.error;g==="authorization_pending"?p=setTimeout(d,o):g==="slow_down"?(l("Slowing down..."),p=setTimeout(d,o+5e3)):(l("Failed or Expired: "+(g||"Unknown")),u(null))}};return p=setTimeout(d,o),()=>clearTimeout(p)},[i,c,s.id]),e.jsxs("div",{className:"max-w-3xl space-y-8",children:[e.jsxs("div",{children:[e.jsx(se,{message:"Suitable for CLI / Limited Input Devices",description:"Device Flow allows users to sign in on a secondary device using a short code or link. Only use this if your app cannot securely handle redirects or has limited input capabilities.",type:"info",showIcon:!0}),e.jsxs(L,{orientation:"vertical",className:"w-full bg-gray-50 dark:bg-gray-900/20 p-4 rounded border border-gray-200 dark:border-gray-700 mt-4",children:[e.jsx(z,{level:4,children:"Test Device Code Flow"}),e.jsx(T,{onClick:f,type:"primary",children:"Create test session"}),m&&e.jsxs("div",{className:"mt-4",children:[e.jsx(C,{strong:!0,children:"Status: "})," ",e.jsx(C,{children:m})]}),i&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-100 dark:border-blue-900",children:[e.jsxs(I,{className:"mb-1",children:["User Code:"," ",e.jsx(C,{copyable:!0,strong:!0,code:!0,children:i.user_code})]}),e.jsxs(I,{className:"mb-0",children:["Input the above code at:"," ",e.jsx("a",{href:i.verification_uri,target:"_blank",rel:"noopener noreferrer",children:i.verification_uri})]}),e.jsxs(I,{className:"mb-0",children:["Or visit:"," ",e.jsx("a",{href:i.verification_uri_complete,target:"_blank",rel:"noopener noreferrer",children:i.verification_uri_complete})]})]}),c&&e.jsxs("div",{className:"mt-2 bg-green-50 dark:bg-green-900/20 p-4 rounded border border-green-200",children:[e.jsx(C,{strong:!0,className:"text-green-600",children:"Access Token:"}),e.jsx(I,{className:"break-all font-mono text-xs",children:c.access_token}),c.refresh_token&&e.jsxs(e.Fragment,{children:[e.jsx(C,{strong:!0,className:"text-green-600",children:"Refresh Token:"}),e.jsx(I,{className:"break-all font-mono text-xs",children:c.refresh_token})]})]})]})]}),e.jsxs("div",{children:[e.jsx(z,{level:4,children:"1. Initiate Device Code Flow"}),e.jsx(I,{children:"Make a POST request to initiate the flow."}),e.jsxs("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono leading-relaxed",children:[e.jsx("span",{className:"text-purple-400",children:"POST"})," ",r,"/oauth2/devicecode",e.jsx("br",{}),e.jsx("span",{className:"text-blue-300",children:"Content-Type:"})," application/json",e.jsx("br",{}),e.jsx("br",{}),`{ "client_id": "${s.id}" }`]}),e.jsx(I,{className:"mt-2 text-sm text-gray-500",children:"Response:"}),e.jsx("div",{className:"mt-2 bg-gray-100 dark:bg-gray-800 p-3 rounded text-sm text-gray-600 dark:text-gray-300 font-mono",children:`{
  "device_code": "...",
  "user_code": "WDJBMJHT",
  "verification_uri": "${a}/auth",
  "verification_uri_complete": "${a}/auth?user_code=WDJBMJHT",
  "expires_in": 900,
  "interval": 5
}`})]}),e.jsxs("div",{children:[e.jsx(z,{level:4,children:"2. Poll for Token"}),e.jsx(I,{children:"Poll the token endpoint using the `device_code` until the user authorizes."}),e.jsxs("div",{className:"bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono leading-relaxed",children:[e.jsx("span",{className:"text-purple-400",children:"POST"})," ",r,"/oauth2/token",e.jsx("br",{}),e.jsx("span",{className:"text-blue-300",children:"Content-Type:"})," application/json",e.jsx("br",{}),e.jsx("br",{}),`{
  "client_id": "${s.id}",
  "device_code": "...",
  "grant_type": "urn:ietf:params:oauth:grant-type:device_code"
}`]}),e.jsx(I,{className:"mt-2 text-sm text-gray-500",children:"Response (Pending):"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono mb-2",children:'{ "error": "authorization_pending" }'}),e.jsx(I,{className:"text-sm text-gray-500",children:"Response (Success):"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono",children:`{
  "access_token": "...",
  "token_type": "Bearer",
  "expires_in": 3600
}`})]})]})}function Is({app:s}){const[t,r]=n.useState(null),[a,i]=n.useState([]),[u,m]=n.useState(!1),[l,c]=n.useState(null);n.useEffect(()=>{x()},[s.id]),n.useEffect(()=>{f(l)},[l,s.id]);const x=async()=>{m(!0);try{const{data:o}=await $.get(`/apps/stats?id=${s.id}`);r(o.data)}catch{}finally{m(!1)}},f=async o=>{let d=`/apps/history?id=${s.id}`;o&&(d+=`&date=${Rt(o)}&offset=${o.utcOffset()}`);try{const{data:h}=await $.get(d);i(h.data||[])}catch{}},p=n.useMemo(()=>t?.daily?t.daily:[],[t]);return u&&!t?e.jsx("div",{className:"p-4",children:"Loading stats..."}):t?e.jsxs("div",{children:[e.jsx(ie,{title:"Summary",className:"bg-white/90",style:{margin:"10px 0"},children:e.jsxs(Ee,{gutter:16,className:"text-center",children:[e.jsx(K,{xs:12,sm:6,children:e.jsx(W,{title:"Total Users",value:t.totalUsers})}),e.jsx(K,{xs:12,sm:6,children:e.jsx(W,{title:"Total Logins",value:t.totalLogins})}),e.jsx(K,{xs:12,sm:6,children:e.jsx(W,{title:"Active (24h)",value:t.activeUsers24h})}),e.jsx(K,{xs:12,sm:6,children:e.jsx(W,{title:"New (24h)",value:t.newUsers24h})})]})}),e.jsxs(Ee,{gutter:16,children:[e.jsx(K,{xs:24,xl:12,children:e.jsx(ie,{title:"Traffic",style:{margin:"10px 0"},extra:e.jsx(C,{type:"secondary",children:"Days split by UTC"}),children:e.jsxs("div",{children:[e.jsx("div",{className:"flex items-end justify-between h-56 gap-2 px-2",children:p.map(o=>{const d=Math.max(...p.map(g=>Math.max(g.logins,g.activeUsers,g.newUsers))),h=d>0?160/d:0;return e.jsxs("div",{className:"flex flex-col items-center gap-2 group w-full overflow-hidden",children:[e.jsxs("div",{className:"flex gap-1 items-end h-[160px] w-full justify-center relative",children:[e.jsx("div",{className:"bg-indigo-400 dark:bg-indigo-600 w-3 rounded-t transition-all hover:bg-indigo-300",style:{height:`${Math.max(o.logins*h,4)}px`},title:`Logins: ${o.logins}`}),e.jsx("div",{className:"bg-emerald-400 dark:bg-emerald-600 w-3 rounded-t transition-all hover:bg-emerald-300",style:{height:`${Math.max(o.activeUsers*h,4)}px`},title:`Active Users: ${o.activeUsers}`}),e.jsx("div",{className:"bg-sky-400 dark:bg-sky-600 w-3 rounded-t transition-all hover:bg-sky-300",style:{height:`${Math.max(o.newUsers*h,4)}px`},title:`New Users: ${o.newUsers}`})]}),e.jsx("div",{className:"text-xs text-gray-500 whitespace-nowrap transform -rotate-45 origin-left mt-6 pl-4",children:fe.utc(o.date).format("MM-DD")})]},o.date)})}),e.jsxs("div",{className:"flex justify-center flex-wrap gap-x-6 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-indigo-400 rounded"}),e.jsx(C,{type:"secondary",className:"text-xs",children:"Logins"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded"}),e.jsx(C,{type:"secondary",className:"text-xs",children:"Active Users"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-sky-400 rounded"}),e.jsx(C,{type:"secondary",className:"text-xs",children:"New Users"})]})]})]})})}),e.jsx(K,{xs:24,xl:12,children:e.jsxs(ie,{title:"Login History",style:{margin:"10px 0"},extra:e.jsx(Et,{value:l,onChange:o=>c(o?o.utc():null),allowClear:!0}),children:[l&&e.jsxs(C,{children:[a.length," activities found"]}),e.jsx($e,{dataSource:a,size:"small",pagination:{pageSize:10},locale:{emptyText:"No activity on selected date"},columns:[{title:"User",dataIndex:"user",key:"user",render:o=>o?e.jsx("span",{className:"flex items-center gap-2",children:o}):e.jsx(C,{type:"secondary",children:"Unknown"})},{title:"Time",dataIndex:"time",key:"time",render:o=>Ie(o)}],rowKey:o=>o.time+(o.user||"unknown")})]})})]})]}):e.jsx("div",{className:"p-4",children:"No stats available."})}export{Os as default};
